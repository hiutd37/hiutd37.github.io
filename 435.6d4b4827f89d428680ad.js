"use strict";(self.webpackChunknx=self.webpackChunknx||[]).push([[435],{4435:(Ee,P,s)=>{s.r(P),s.d(P,{NewsModule:()=>Se});var e=s(4788),g=s(2057),f=s(3489),h=s(7501),C=s(4831),A=s(7505),l=s(3738),k=s(7746),y=s(3382),Q=s(1335),U=s.n(Q),D=s(9683),J=s(7576),F=s(3180),V=s(9700),L=s(2487),Y=s(1361);(0,g.qS)(U());let $=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[{provide:e.soG,useValue:"vi-VN"}],imports:[[g.ez,l.UX,A.d,l.u5,C.b1,h.Bz,f.LV,k.Z,y.Hb,l.UX.withConfig({warnOnNgModelWithFormControl:"never"}),D.cq,J.tP,F.dZ,Y.cS,L.Gb,V.zf]]}),i})();var u=s(4728),T=s(1483),S=s(9765),m=s(8002),c=s(6782),I=s(8303);function j(i,r){if(1&i&&(e.TgZ(0,"nz-option",33),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.s9C("nzLabel",t.tenDanhMuc),e.Q6J("nzValue",t.id),e.xp6(1),e.hij(" ",t.tenDanhMuc," ")}}function R(i,r){1&i&&(e.TgZ(0,"small",17),e._uU(1,"kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),e.qZA())}let X=(()=>{class i{constructor(t,n,a,o,d){this.fb=t,this.apiService=n,this.noti=a,this.router=o,this.route=d,this.submited=!1,this.size="large",this.listDanhMucs=[],this.demoValue=0,this.destroyed$=new S.xQ}ngOnInit(){this.form=this.fb.group({cultureId:1,id:[0],idParent:[this.idParent],tenDanhMuc:["",l.kI.required],nameParent:[this.idParent],ghiChu:[""],isSuDung:[!0],soThuTu:[""],seoTitle:[""],seoAlias:[""],seoMetaKey:[""],seoMetaDesc:[""]}),this.apiService.post("CMS/CMSTinTucDanhMucs/GetList",this.dataRequestsGetList()).pipe((0,m.U)(n=>({data:n.items})),(0,c.R)(this.destroyed$)).subscribe(n=>{this.listDanhMucs=n.data}),this.route.queryParams.pipe((0,m.U)(n=>JSON.parse(n.data)),(0,m.U)(n=>n.state),(0,c.R)(this.destroyed$)).subscribe(n=>{this.action=n.action,this.model=n.data,this.title=n.title}),this.action===u.Xv.UPDATE&&this.form.patchValue(this.model),this.getTitle()}getTitle(){this.action===u.Xv.UPDATE&&(this.title="C\u1eadp nh\u1eadt danh m\u1ee5c tin t\u1ee9c"),this.action===u.Xv.CREATE&&(this.title="Th\xeam m\u1edbi danh m\u1ee5c tin t\u1ee9c")}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}onSubmit(){var t;if(null===(t=this.form)||void 0===t?void 0:t.invalid)return void(0,I.n)(this.form);const n="CMS/CMSTinTucDanhMucs";switch(this.action){case u.Xv.CREATE:this.apiService.post(n,this.form.value).pipe((0,c.R)(this.destroyed$)).subscribe(a=>{this.noti.showSuccessMessage(u.sj.addSuccess),this.router.navigateByUrl("/master/news/danh-muc-tin-tuc")});break;case u.Xv.UPDATE:this.apiService.put(n,this.form.value).pipe((0,c.R)(this.destroyed$)).subscribe(a=>{this.noti.showSuccessMessage(u.sj.updateSuccess),this.router.navigateByUrl("/master/news/danh-muc-tin-tuc")})}}dataRequestsGetList(){return{cultureId:1,isAsc:!1,level:1,isFeedback:null,isSuDung:null,pageNumber:1,pageSize:20,sortASC:!1,sortCol:"id",sortName:"nameParent"}}get f(){return this.form.controls}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(l.qu),e.Y36(T.sM),e.Y36(T.gq),e.Y36(h.F0),e.Y36(h.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["nx-form-action-tin-tuc"]],inputs:{action:"action",model:"model"},decls:66,vars:10,consts:[[3,"formGroup","ngSubmit"],[1,"form-heading"],[2,"font-size","20px","margin-bottom","0 !important"],[1,"action"],["type","submit",1,"ui-button","ui-button-primary"],[1,"ui-text"],["type","button","routerLink","/master/news/danh-muc-tin-tuc",1,"ui-button"],[1,"rounded"],[1,"row","align-items-stretch"],[1,"col-xl-8","col-lg-7","col-md-12"],[1,"border","bg-white","h-100"],[1,"p-3","py-3"],[1,"form-group"],[1,"labels"],[1,"select"],["formControlName","idParent","nzShowSearch","","nzAllowClear","","nzPlaceHolder","Ch\u1ecdn danh m\u1ee5c",3,"nzSize"],["nzCustomContent","",3,"nzLabel","nzValue",4,"ngFor","ngForOf"],[1,"text-danger"],["type","text","formControlName","tenDanhMuc","value","",1,"form-control"],["class","text-danger",4,"ngIf"],["formControlName","ghiChu"],[1,"labels",2,"padding-right","10px"],["formControlName","soThuTu",1,"w-25",3,"nzSize","ngModel","nzMin","nzMax","nzStep","ngModelChange"],[1,"col-xl-4","col-lg-5","col-md-12"],[1,"border","bg-white","mb-3"],[1,"form-check"],["formControlName","ghiChu","type","checkbox","value","","id","flexCheckDefault",1,"form-check-input"],["for","flexCheckDefault",1,"labels"],[1,"border","bg-white"],["type","text","formControlName","seoTitle","value","",1,"form-control"],["type","text","formControlName","seoAlias","value","",1,"form-control"],["formControlName","seoMetaDesc",1,"form-control","mb-3","description-area"],["formControlName","seoMetaKey",1,"form-control","mb-3","description-area"],["nzCustomContent","",3,"nzLabel","nzValue"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(1,"div",1),e.TgZ(2,"div"),e.TgZ(3,"h3",2),e._uU(4),e.qZA(),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"ul"),e.TgZ(7,"li"),e.TgZ(8,"button",4),e.TgZ(9,"span",5),e._uU(10,"L\u01b0u thay \u0111\u1ed5i"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"li"),e.TgZ(12,"button",6),e.TgZ(13,"span",5),e._uU(14,"Tr\u1edf v\u1ec1"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"div",7),e.TgZ(16,"div",8),e.TgZ(17,"div",9),e.TgZ(18,"div",10),e.TgZ(19,"div",11),e.TgZ(20,"div",12),e.TgZ(21,"label",13),e._uU(22,"Danh m\u1ee5c"),e.qZA(),e.TgZ(23,"div",14),e.TgZ(24,"nz-select",15),e.YNc(25,j,2,3,"nz-option",16),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"div",12),e.TgZ(27,"label",13),e._uU(28,"T\xean danh m\u1ee5c"),e.TgZ(29,"span",17),e._uU(30,"(*)"),e.qZA(),e.qZA(),e._UZ(31,"input",18),e.YNc(32,R,2,0,"small",19),e.qZA(),e.TgZ(33,"div",12),e.TgZ(34,"label",13),e._uU(35,"M\xf4 t\u1ea3"),e.qZA(),e._UZ(36,"ckeditor",20),e.qZA(),e.TgZ(37,"div",12),e.TgZ(38,"label",21),e._uU(39,"S\u1ed1 th\u1ee9 t\u1ef1"),e.qZA(),e.TgZ(40,"nz-input-number",22),e.NdJ("ngModelChange",function(o){return n.demoValue=o}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(41,"div",23),e.TgZ(42,"div",24),e.TgZ(43,"div",11),e.TgZ(44,"div",25),e._UZ(45,"input",26),e.TgZ(46,"label",27),e._uU(47," Hi\u1ec3n th\u1ecb "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(48,"div",28),e.TgZ(49,"div",11),e.TgZ(50,"div",12),e.TgZ(51,"label",13),e._uU(52,"Ti\xeau \u0111\u1ec1 trang"),e.qZA(),e._UZ(53,"input",29),e.qZA(),e.TgZ(54,"div",12),e.TgZ(55,"label",13),e._uU(56,"\u0110\u01b0\u1eddng d\u1eabn / Alias"),e.qZA(),e._UZ(57,"input",30),e.qZA(),e.TgZ(58,"div",12),e.TgZ(59,"label",13),e._uU(60,"Th\u1ebb m\xf4 t\u1ea3"),e.qZA(),e._UZ(61,"textarea",31),e.qZA(),e.TgZ(62,"div",12),e.TgZ(63,"label",13),e._uU(64,"Meta - Key"),e.qZA(),e._UZ(65,"textarea",32),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Q6J("formGroup",n.form),e.xp6(4),e.hij(" ",n.title," "),e.xp6(20),e.Q6J("nzSize",n.size),e.xp6(1),e.Q6J("ngForOf",n.listDanhMucs),e.xp6(7),e.Q6J("ngIf",(n.f.tenDanhMuc.touched||n.submited)&&(null==n.f.tenDanhMuc.errors?null:n.f.tenDanhMuc.errors.required)),e.xp6(8),e.Q6J("nzSize",n.size)("ngModel",n.demoValue)("nzMin",0)("nzMax",10)("nzStep",1))},directives:[l._Y,l.JL,l.sg,h.rH,f.Vq,l.JJ,l.u,g.sg,l.Fj,g.O5,A.u,k._,l.Wl,f.Ip],styles:[".form-control[_ngcontent-%COMP%]:focus{box-shadow:inset 0 1px #3f3f440d!important;border:1px solid #c4cdd5;border-radius:3px;color:#000}.back[_ngcontent-%COMP%]:hover{color:red;cursor:pointer}.labels[_ngcontent-%COMP%]{color:#102048;font-weight:700;font-size:15px}.form-heading[_ngcontent-%COMP%]{justify-content:space-between;padding:10px 20px;align-items:center!important;display:flex}.form-heading[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:0;list-style:none}.form-heading[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;margin:0 3px}.w-full[_ngcontent-%COMP%]{width:100%}.ant-picker[_ngcontent-%COMP%]{min-height:40px;padding:5px 10px;box-shadow:inset 0 1px #3f3f440d!important;border:1px solid #c4cdd5;border-radius:3px;color:#000}"]}),i})();var E=s(4718);function G(i,r){1&i&&(e.TgZ(0,"small",14),e._uU(1,"kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),e.qZA())}function K(i,r){1&i&&(e.TgZ(0,"small",14),e._uU(1,"kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),e.qZA())}function W(i,r){1&i&&(e.TgZ(0,"small",14),e._uU(1,"kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),e.qZA())}let ee=(()=>{class i{constructor(t,n,a,o,d,Z,v){this.fb=t,this.apiService=n,this.noti=a,this.router=o,this.route=d,this.i18n=Z,this.uploadService=v,this.submited=!1,this.size="large",this.listDanhMuc=[],this.nodes=[],this.idsFileDinhKem=[],this.destroyed$=new S.xQ}ngOnInit(){this.i18n.setLocale(E.L$),this.form=this.fb.group({cultureId:1,id:[0],idDanhMuc:[this.idDanhMuc,l.kI.required],tieuDe:["",l.kI.required],moTa:[""],noiDung:["",l.kI.required],fileDinhKems:[""],hinhDaiDien:[null],isHienThi:[!0],isNoiBat:[!1],isNew:[!1],ngayHienThi:[],seoTitle:[""],seoAlias:[""],seoMetaDesc:[""],seoMetaKey:[""]}),this.apiService.post("CMS/CMSTinTucDanhMucs/GetList",this.dataDanhMuc()).pipe((0,m.U)(n=>({data:n.items})),(0,c.R)(this.destroyed$)).subscribe(n=>{this.listDanhMuc=n.data,this.listDanhMuc=this.buildTreeArray(n.data,0)}),this.route.queryParams.pipe((0,m.U)(n=>JSON.parse(n.data)),(0,m.U)(n=>n.state),(0,c.R)(this.destroyed$)).subscribe(n=>{this.action=n.action,this.model=n.data,this.title=n.title}),this.action===u.Xv.UPDATE&&this.form.patchValue(this.model),this.getTitle()}getTitle(){this.action===u.Xv.UPDATE&&(this.title="C\u1eadp nh\u1eadt b\xe0i vi\u1ebft tin t\u1ee9c"),this.action===u.Xv.CREATE&&(this.title="Th\xeam m\u1edbi b\xe0i vi\u1ebft tin t\u1ee9c")}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}onSubmit(){var t;if(null===(t=this.form)||void 0===t?void 0:t.invalid)return void(0,I.n)(this.form);const n="CMS/CMSTinTucs";switch(this.action){case u.Xv.CREATE:this.apiService.post(n,this.form.value).pipe((0,c.R)(this.destroyed$)).subscribe(a=>{this.noti.showSuccessMessage(u.sj.addSuccess),this.router.navigateByUrl("/master/news/tin-tuc")});break;case u.Xv.UPDATE:this.apiService.put(n,this.form.value).pipe((0,c.R)(this.destroyed$)).subscribe(a=>{this.noti.showSuccessMessage(u.sj.updateSuccess),this.router.navigateByUrl("/master/news/tin-tuc")})}}handleUpload(){const t=new FormData;t.append("formFiles",this.uploadService.binaryUrl),this.apiService.post("CMS/FileQuanLyFile/UploadFile",t).pipe((0,m.U)(n=>n.files),(0,c.R)(this.destroyed$)).subscribe(n=>{this.idsFileDinhKem.push(n[0].id),this.form.controls.idsFileDinhKem.setValue(this.idsFileDinhKem)})}dataDanhMuc(){return{arrIdsExclude:[],cultureId:1,pageNumber:0,pageSize:0,sortByASC:!0,sortCol:"id"}}get f(){return this.form.controls}buildTreeArray(t,n){const a=t.filter(o=>o.idParent<=0&&n<=0||o.idParent===n&&n>0).map(o=>({title:o.tenDanhMuc,key:o.id,expanded:!1,isLeaf:!1,children:[]}));return a.length>0&&a.map(o=>{const Z=t.filter(v=>v.idParent===o.key).length;o.isLeaf=!(Z>0),o.expanded=Z>0,o.children=this.buildTreeArray(t,o.key)}),a}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(l.qu),e.Y36(T.sM),e.Y36(T.gq),e.Y36(h.F0),e.Y36(h.gz),e.Y36(E.wi),e.Y36(T.C7))},i.\u0275cmp=e.Xpm({type:i,selectors:[["nx-form-tintuc"]],inputs:{action:"action",model:"model"},decls:103,vars:10,consts:[[3,"formGroup","ngSubmit"],[1,"form-heading"],[2,"font-size","20px","margin-bottom","0 !important"],[1,"action"],["type","submit",1,"ui-button","ui-button-primary",3,"click"],[1,"ui-text"],["type","button","routerLink","/master/news/tin-tuc",1,"ui-button"],[1,"rounded"],[1,"row","align-items-stretch"],[1,"col-xl-8","col-lg-7","col-md-12"],[1,"border","bg-white","h-100"],[1,"p-3","py-3"],[1,"form-group"],[1,"labels"],[1,"text-danger"],[1,"select"],["nzPlaceHolder","Ch\u1ecdn danh m\u1ee5c","formControlName","idDanhMuc",2,"width","100%",3,"nzSize","nzNodes","nzDefaultExpandAll","nzAllowClear"],["class","text-danger",4,"ngIf"],["type","text","formControlName","tieuDe","value","",1,"form-control"],["formControlName","moTa",1,"form-control","mb-3","description-area"],["formControlName","noiDung"],[1,"col-xl-4","col-lg-5","col-md-12"],[1,"border","bg-white","mb-3"],[1,"form-check"],["for","flexCheckDefault",1,"labels"],["type","file",3,"change"],["imgUpload",""],[1,"row",2,"text-align","center"],[1,"col-4"],["formControlName","isHienThi","type","checkbox","value","","id","flexCheckDefault",1,"form-check-input"],["for","flexCheckDefault",1,"form-check-label"],["formControlName","isNoiBat","type","checkbox","value","","id","flexCheckDefault",1,"form-check-input"],["formControlName","isNew","type","checkbox","value","","id","flexCheckDefault",1,"form-check-input"],["nzPlaceHolder","Ch\u1ecdn th\u1eddi \u0111i\u1ec3m","formControlName","ngayHienThi","nzFormat","dd/MM/yyyy",2,"width","100%",3,"nzSize"],["type","text","formControlName","seoTitle","value","",1,"form-control"],["type","text","formControlName","seoAlias","value","",1,"form-control"],["formControlName","seoMetaKey",1,"form-control","mb-3","description-area"]],template:function(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(1,"div",1),e.TgZ(2,"div"),e.TgZ(3,"h3",2),e._uU(4),e.qZA(),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"ul"),e.TgZ(7,"li"),e.TgZ(8,"button",4),e.NdJ("click",function(){return n.handleUpload()}),e.TgZ(9,"span",5),e._uU(10,"L\u01b0u thay \u0111\u1ed5i"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"li"),e.TgZ(12,"button",6),e.TgZ(13,"span",5),e._uU(14,"Tr\u1edf v\u1ec1"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"div",7),e.TgZ(16,"div",8),e.TgZ(17,"div",9),e.TgZ(18,"div",10),e.TgZ(19,"div",11),e.TgZ(20,"div",12),e.TgZ(21,"label",13),e._uU(22,"Danh m\u1ee5c tin "),e.TgZ(23,"span",14),e._uU(24,"(*)"),e.qZA(),e.qZA(),e.TgZ(25,"div",15),e._UZ(26,"nz-tree-select",16),e.qZA(),e.YNc(27,G,2,0,"small",17),e.qZA(),e.TgZ(28,"div",12),e.TgZ(29,"label",13),e._uU(30,"Ti\xeau \u0111\u1ec1 "),e.TgZ(31,"span",14),e._uU(32,"(*)"),e.qZA(),e.qZA(),e._UZ(33,"input",18),e.YNc(34,K,2,0,"small",17),e.qZA(),e.TgZ(35,"div",12),e.TgZ(36,"label",13),e._uU(37,"T\xf3m t\u1eaft"),e.qZA(),e._UZ(38,"textarea",19),e.qZA(),e.TgZ(39,"div",12),e.TgZ(40,"label",13),e._uU(41,"N\u1ed9i dung"),e.TgZ(42,"span",14),e._uU(43,"(*)"),e.qZA(),e.qZA(),e._UZ(44,"ckeditor",20),e.YNc(45,W,2,0,"small",17),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(46,"div",21),e.TgZ(47,"div",22),e.TgZ(48,"div",11),e.TgZ(49,"div",23),e.TgZ(50,"label",24),e._uU(51," T\u1ec7p \u0111\xednh k\xe8m "),e.qZA(),e.TgZ(52,"input",25,26),e.NdJ("change",function(){e.CHM(a);const d=e.MAs(53);return n.uploadService.preview(d.files)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(54,"div",22),e.TgZ(55,"div",11),e.TgZ(56,"div",23),e.TgZ(57,"label",24),e._uU(58," H\xecnh \u0111\u1ea1i di\u1ec7n "),e.qZA(),e.TgZ(59,"input",25,26),e.NdJ("change",function(){e.CHM(a);const d=e.MAs(53);return n.uploadService.preview(d.files)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(61,"div",22),e.TgZ(62,"div",11),e.TgZ(63,"div",27),e.TgZ(64,"div",28),e.TgZ(65,"div",23),e._UZ(66,"input",29),e.TgZ(67,"label",30),e._uU(68," Hi\u1ec3n th\u1ecb "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(69,"div",28),e.TgZ(70,"div",23),e._UZ(71,"input",31),e.TgZ(72,"label",30),e._uU(73," N\u1ed5i b\u1eadt "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(74,"div",28),e.TgZ(75,"div",23),e._UZ(76,"input",32),e.TgZ(77,"label",30),e._uU(78," Tin m\u1edbi "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(79,"div",11),e.TgZ(80,"div",12),e.TgZ(81,"label",13),e._uU(82,"Ng\xe0y hi\u1ec3n th\u1ecb"),e.qZA(),e._UZ(83,"nz-date-picker",33),e.qZA(),e.qZA(),e.qZA(),e.TgZ(84,"div",22),e.TgZ(85,"div",11),e.TgZ(86,"div",12),e.TgZ(87,"label",13),e._uU(88,"Ti\xeau \u0111\u1ec1 trang"),e.qZA(),e._UZ(89,"input",34),e.qZA(),e.TgZ(90,"div",12),e.TgZ(91,"label",13),e._uU(92,"\u0110\u01b0\u1eddng d\u1eabn / Alias"),e.qZA(),e._UZ(93,"input",35),e.qZA(),e.TgZ(94,"div",12),e.TgZ(95,"label",13),e._uU(96,"Th\u1ebb m\xf4 t\u1ea3"),e.qZA(),e.TgZ(97,"textarea",19),e._uU(98,'                            \x3c!-- <ng-template kendoGridCellTemplate let-dataItem>\n                                <div class="moTa" [innerHtml]="dataItem.moTa"></div>\n                            </ng-template> --\x3e\n                            '),e.qZA(),e.qZA(),e.TgZ(99,"div",12),e.TgZ(100,"label",13),e._uU(101,"Meta - Key"),e.qZA(),e._UZ(102,"textarea",36),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}2&t&&(e.Q6J("formGroup",n.form),e.xp6(4),e.hij(" ",n.title," "),e.xp6(22),e.Q6J("nzSize",n.size)("nzNodes",n.listDanhMuc)("nzDefaultExpandAll",!0)("nzAllowClear",!0),e.xp6(1),e.Q6J("ngIf",(n.f.idDanhMuc.touched||n.submited)&&(null==n.f.idDanhMuc.errors?null:n.f.idDanhMuc.errors.required)),e.xp6(7),e.Q6J("ngIf",(n.f.tieuDe.touched||n.submited)&&(null==n.f.tieuDe.errors?null:n.f.tieuDe.errors.required)),e.xp6(11),e.Q6J("ngIf",(n.f.noiDung.touched||n.submited)&&(null==n.f.noiDung.errors?null:n.f.noiDung.errors.required)),e.xp6(38),e.Q6J("nzSize",n.size))},directives:[l._Y,l.JL,l.sg,h.rH,D.zr,l.JJ,l.u,g.O5,l.Fj,A.u,l.Wl,y.uw],styles:[".form-control[_ngcontent-%COMP%]:focus{box-shadow:inset 0 1px #3f3f440d!important;border:1px solid #c4cdd5;border-radius:3px;color:#000}.back[_ngcontent-%COMP%]:hover{color:red;cursor:pointer}.labels[_ngcontent-%COMP%]{color:#102048;font-weight:700;font-size:15px}.form-heading[_ngcontent-%COMP%]{justify-content:space-between;padding:10px 20px;align-items:center!important;display:flex}.form-heading[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:0;list-style:none}.form-heading[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;margin:0 3px}.w-full[_ngcontent-%COMP%]{width:100%}.ant-picker[_ngcontent-%COMP%]{min-height:40px;padding:5px 10px;box-shadow:inset 0 1px #3f3f440d!important;border:1px solid #c4cdd5;border-radius:3px;color:#000}"]}),i})();var B=s(4479),p=s(5682),w=s(3232),ne=s(9854),te=s(9574),ie=s(8497),oe=s(7990),q=s(5334),N=s(1312),O=s(9192),ae=s(9123),_=s(5174);let re=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["nx-news"]],decls:1,vars:0,template:function(t,n){1&t&&e._UZ(0,"router-outlet")},directives:[h.lC],encapsulation:2}),i})();var H=s(9117);function se(i,r){if(1&i){const t=e.EpF();e._UZ(0,"span",32),e.TgZ(1,"button",33),e.NdJ("click",function(){return e.CHM(t),e.oxw().submitSearch()}),e._UZ(2,"i",34),e._uU(3,"T\xecm ki\u1ebfm "),e.qZA(),e.TgZ(4,"a",35),e._UZ(5,"i",36),e.qZA()}if(2&i){e.oxw();const t=e.MAs(7);e.xp6(4),e.Q6J("nzDropdownMenu",t)}}function le(i,r){1&i&&e._uU(0," Kh\xf4ng c\xf3 d\u1eef li\u1ec7u ")}function ue(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"a",37),e._UZ(1,"i",38),e.qZA(),e.TgZ(2,"nz-dropdown-menu",null,5),e.TgZ(4,"div",39),e.TgZ(5,"ul",40),e.TgZ(6,"div",41),e.TgZ(7,"p",42),e._uU(8,"Thao t\xe1c"),e.qZA(),e.qZA(),e.TgZ(9,"div",43),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.oxw().editHandler(o)}),e._UZ(10,"i",44),e._uU(11," Ch\u1ec9nh s\u1eeda "),e.qZA(),e.TgZ(12,"div",43),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.oxw().removeItem(o)}),e._UZ(13,"i",45),e._uU(14," X\xf3a "),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.MAs(3);e.Q6J("nzDropdownMenu",t)}}function de(i,r){1&i&&e._uU(0),2&i&&e.hij(" ",r.rowIndex+1," ")}function ce(i,r){1&i&&(e._uU(0),e.ALo(1,"date")),2&i&&e.hij(" ",e.xi3(1,1,r.$implicit.ngayHienThi,"dd/MM/yyyy")," ")}function ge(i,r){1&i&&(e.TgZ(0,"button",47),e._uU(1," S\u1eed d\u1ee5ng "),e.qZA())}function he(i,r){1&i&&e.YNc(0,ge,2,0,"button",46),2&i&&e.Q6J("ngIf",!0===r.$implicit.isHienThi)}const pe=function(){return{standalone:!0}},z=function(){return{"text-center":!0}},b=function(){return{"font-weight":"bold"}};let me=(()=>{class i{constructor(t,n,a,o,d){this.apiService=t,this.modal=n,this.notifi=a,this.router=o,this.i18n=d,this.listTinTuc=[],this.listDanhMuc=[],this.modelSearch={keyword:""},this.selectedIds=[],this.size="large",this.nodes=[],this.arrIdsDanhMuc=[],this.gridState={skip:0,take:20,sort:[{field:"id",dir:"asc"}]},this.destroyed$=new S.xQ}ngOnInit(){this.loadItems()}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}loadItems(){this.i18n.setLocale(E.L$);const t="CMS/CMSTinTucs/GetList";this.apiService.post(t,this.dataRequestGetList()).pipe((0,m.U)(a=>({data:a.items})),(0,c.R)(this.destroyed$)).subscribe(a=>{this.listTinTuc=a.data}),this.apiService.post("CMS/CMSTinTucDanhMucs/GetList",this.dataDanhMuc()).pipe((0,m.U)(a=>({data:a.items})),(0,c.R)(this.destroyed$)).subscribe(a=>{this.listDanhMuc=a.data,this.listDanhMuc=this.buildTreeArray(a.data,0),console.log(this.listDanhMuc)}),this.gridView$=this.apiService.post(t,this.queryOptions).pipe((0,m.U)(a=>({data:a.items,total:a.pagingInfo.totalItems})))}dataStateChange(t){this.gridState=t,this.loadItems()}onSearch(){this.gridState.skip=0,this.loadItems()}submitSearch(){this.gridState.skip=0,this.loadItems()}refreshSearch(){this.idTinTuc=0,this.ngayHienThi=null,this.tuNgay=null,this.denNgay=null,this.isVisible=null,this.isNoiBat=null,this.isNew=null,this.arrIdsDanhMuc=[]}addHandler(){this.router.navigate(["/master/news/tin-tuc/action"],{queryParams:{data:JSON.stringify({state:{action:u.Xv.CREATE}})}})}editHandler(t){this.router.navigate(["/master/news/tin-tuc/action"],{queryParams:{data:JSON.stringify({state:{action:u.Xv.UPDATE,data:t}})}})}removeItem(t){this.selectedIds=[t.id],this.removeSelected()}removeSelected(){this.selectedIds.length>0&&this.modal.confirm({nzClosable:!1,nzTitle:u.sj.TITLE,nzOnOk:()=>{this.apiService.delete("CMS/CMSTinTucs",{ids:this.selectedIds}).pipe((0,c.R)(this.destroyed$)).subscribe(n=>{this.notifi.showSuccessMessage(u.sj.Delete),this.loadItems(),this.selectedIds=[]})},nzOkText:u.sj.Yes,nzCancelText:u.sj.No})}dataRequestGetList(){return Object.assign(Object.assign({cultureId:1,id:null,isAsc:!0},this.modelSearch),{pageNumber:1,pageSize:20,sortCol:"id",sortASC:!0,sortName:"id"})}dataDanhMuc(){return{arrIdsExclude:[],cultureId:1,pageNumber:0,pageSize:0,sortByASC:!0,sortCol:"id"}}get queryOptions(){var t;return Object.assign(Object.assign({},this.modelSearch),{cultureId:1,id:null,arrIdsDanhMuc:this.arrIdsDanhMuc,ngayHienThi:this.ngayHienThi,tuNgay:this.tuNgay,denNgay:this.denNgay,pageSize:(null===(t=this.gridState)||void 0===t?void 0:t.take)||20,pageNumber:this.gridState.skip/this.gridState.take+1,isAsc:!!this.gridState.sort&&"desc"===this.gridState.sort[0].dir,sortCol:this.gridState.sort?this.gridState.sort[0].field:"id",sortASC:!!this.gridState.sort&&"desc"===this.gridState.sort[0].dir,sortName:this.gridState.sort?this.gridState.sort[0].field:"id",isHienThi:null!=this.isVisible?JSON.parse(this.isVisible):null,isNoiBat:null!=this.isNoiBat?JSON.parse(this.isNoiBat):null,isNew:null!=this.isNew?JSON.parse(this.isNew):null})}buildTreeArray(t,n){const a=t.filter(o=>o.idParent<=0&&n<=0||o.idParent===n&&n>0).map(o=>({title:o.tenDanhMuc,key:o.id,expanded:!1,isLeaf:!1,children:[]}));return a.length>0&&a.map(o=>{const Z=t.filter(v=>v.idParent===o.key).length;o.isLeaf=!(Z>0),o.expanded=Z>0,o.children=this.buildTreeArray(t,o.key)}),a}getIdSelected(t,n){const a=[];for(const o in t)for(const d in t[o].children)t[o].key===n&&a.push(t[o].id),t[o].children[d].key===n&&a.push(t[o].children[d].id);return a[0]}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(T.sM),e.Y36(w.Sf),e.Y36(T.gq),e.Y36(h.F0),e.Y36(E.wi))},i.\u0275cmp=e.Xpm({type:i,selectors:[["nx-tin-tuc-noi-dung"]],decls:68,vars:75,consts:[[1,"heading"],[1,"search"],[3,"nzSuffix"],["type","text","nz-input","","placeholder","Nh\u1eadp t\u1eeb kh\xf3a",3,"ngModel","ngModelOptions","ngModelChange","keyup.enter"],["suffixIconSearch",""],["menu","nzDropdownMenu"],[1,"menu-filter"],[1,"advanced-search"],["nzShowSearch","","nzSize","large","nzPlaceHolder","Ch\u1ecdn danh m\u1ee5c",2,"width","100%",3,"nzNodes","nzMaxTagCount","nzDefaultExpandAll","nzAllowClear","nzMultiple","ngModel","ngModelChange"],["nzPlaceHolder","Ch\u1ecdn th\u1eddi \u0111i\u1ec3m","nzFormat","dd/MM/yyyy",1,"w-full","ant-picker",2,"width","100%",3,"ngModel","nzSize","ngModelChange"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Hi\u1ec3n th\u1ecb","nzNotFoundContent","Tr\u1ed1ng",3,"nzSize","ngModel","ngModelChange"],["nzCustomContent","","nzLabel","Hi\u1ec3n th\u1ecb",3,"nzValue"],["nzCustomContent","","nzLabel","Kh\xf4ng hi\u1ec3n th\u1ecb",3,"nzValue"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","N\u1ed5i b\u1eadt","nzNotFoundContent","Tr\u1ed1ng",3,"nzSize","ngModel","ngModelChange"],["nzCustomContent","","nzLabel","Cho ph\xe9p",3,"nzValue"],["nzCustomContent","","nzLabel","Kh\xf4ng cho ph\xe9p",3,"nzValue"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Tin m\u1edbi","nzNotFoundContent","Tr\u1ed1ng",3,"nzSize","ngModel","ngModelChange"],["nz-button","","nzType","primary","nzGhost","",3,"click"],[1,"action"],["nz-button","","nzType","primary","id","btn-add",1,"ui-button","ui-button-secondary",3,"click"],[1,"ui-text"],["nz-button","","nzType","primary","id","btn-delete","nzDanger","",1,"ui-button","ui-button-delete",3,"disabled","click"],["kendoGridSelectBy","id",3,"data","pageSize","sort","skip","pageable","navigable","sortable","selectable","selectedKeys","reorderable","resizable","height","dataStateChange"],["kendoGridNoRecordsTemplate",""],[3,"width","showSelectAll"],["title","Thao t\xe1c",3,"headerStyle","headerClass","width"],["kendoGridCellTemplate",""],["title","STT",3,"headerStyle","width","headerClass"],["title","T\xeau \u0111\u1ec1","field","tieuDe",3,"headerStyle"],["title","T\xean danh m\u1ee5c","field","tenDanhMuc",3,"headerStyle","width"],["title","Ng\xe0y t\u1ea1o","field","ngayHienThi",3,"headerStyle","width"],["title","Hi\u1ec3n th\u1ecb","field","isHienThi",3,"headerStyle","headerClass","width"],[1,"line"],["type","button",3,"click"],["nz-icon","","id","icon-search","nzType","search","nzTheme","outline"],["nz-dropdown","","nzTrigger","click","nzPlacement","bottomRight",3,"nzDropdownMenu"],["nz-icon","","id","icon-filter","nzType","filter","nzTheme","fill"],["nz-dropdown","",3,"nzDropdownMenu"],["id","btn-group","nz-icon","","nzType","group","nzTheme","outline",2,"color","#005aa9","font-size","14px"],[1,"menu-hanhdong","ant-drop","menu-dropdown"],[1,"m-nav"],[1,"menu-thaotac",2,"margin-top","0"],[1,"thaotac"],[3,"click"],["nz-icon","","nzType","edit","nzTheme","outline"],["nz-icon","","nzType","delete","nzTheme","outline"],["id","btn-hienthi","nz-button","","nzType","text",4,"ngIf"],["id","btn-hienthi","nz-button","","nzType","text"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"form",1),e.TgZ(2,"nz-input-group",2),e.TgZ(3,"input",3),e.NdJ("ngModelChange",function(o){return n.modelSearch.keyword=o})("keyup.enter",function(){return n.onSearch()}),e.qZA(),e.qZA(),e.YNc(4,se,6,1,"ng-template",null,4,e.W1O),e.qZA(),e.TgZ(6,"nz-dropdown-menu",null,5),e.TgZ(8,"div",6),e.TgZ(9,"span"),e._uU(10,"Ch\u1ecdn danh m\u1ee5c"),e.qZA(),e.TgZ(11,"div",7),e.TgZ(12,"nz-tree-select",8),e.NdJ("ngModelChange",function(o){return n.arrIdsDanhMuc=o}),e.qZA(),e.qZA(),e.TgZ(13,"span"),e._uU(14,"T\u1eeb ng\xe0y"),e.qZA(),e.TgZ(15,"div"),e.TgZ(16,"nz-date-picker",9),e.NdJ("ngModelChange",function(o){return n.tuNgay=o}),e.qZA(),e.qZA(),e.TgZ(17,"span"),e._uU(18,"\u0110\u1ebfn ng\xe0y"),e.qZA(),e.TgZ(19,"div"),e.TgZ(20,"nz-date-picker",9),e.NdJ("ngModelChange",function(o){return n.denNgay=o}),e.qZA(),e.qZA(),e.TgZ(21,"span"),e._uU(22,"Hi\u1ec3n th\u1ecb"),e.qZA(),e.TgZ(23,"div"),e.TgZ(24,"nz-select",10),e.NdJ("ngModelChange",function(o){return n.isVisible=o}),e.TgZ(25,"nz-option",11),e._uU(26," Hi\u1ec3n th\u1ecb "),e.qZA(),e.TgZ(27,"nz-option",12),e._uU(28," Kh\xf4ng hi\u1ec3n th\u1ecb "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"span"),e._uU(30,"N\u1ed5i b\u1eadt"),e.qZA(),e.TgZ(31,"div"),e.TgZ(32,"nz-select",13),e.NdJ("ngModelChange",function(o){return n.isNoiBat=o}),e.TgZ(33,"nz-option",14),e._uU(34," Cho ph\xe9p "),e.qZA(),e.TgZ(35,"nz-option",15),e._uU(36," Kh\xf4ng cho ph\xe9p "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(37,"span"),e._uU(38,"Tin m\u1edbi"),e.qZA(),e.TgZ(39,"div"),e.TgZ(40,"nz-select",16),e.NdJ("ngModelChange",function(o){return n.isNew=o}),e.TgZ(41,"nz-option",14),e._uU(42," Cho ph\xe9p "),e.qZA(),e.TgZ(43,"nz-option",15),e._uU(44," Kh\xf4ng cho ph\xe9p "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(45,"button",17),e.NdJ("click",function(){return n.refreshSearch()}),e._uU(46," L\xe0m m\u1edbi "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(47,"div",18),e.TgZ(48,"button",19),e.NdJ("click",function(){return n.addHandler()}),e.TgZ(49,"span",20),e._uU(50,"T\u1ea1o m\u1edbi"),e.qZA(),e.qZA(),e.TgZ(51,"button",21),e.NdJ("click",function(){return n.removeSelected()}),e.TgZ(52,"span",20),e._uU(53,"Xo\xe1"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(54,"kendo-grid",22),e.NdJ("dataStateChange",function(o){return n.dataStateChange(o)}),e.ALo(55,"async"),e.YNc(56,le,1,0,"ng-template",23),e._UZ(57,"kendo-grid-checkbox-column",24),e.TgZ(58,"kendo-grid-column",25),e.YNc(59,ue,15,1,"ng-template",26),e.qZA(),e.TgZ(60,"kendo-grid-column",27),e.YNc(61,de,1,1,"ng-template",26),e.qZA(),e._UZ(62,"kendo-grid-column",28),e._UZ(63,"kendo-grid-column",29),e.TgZ(64,"kendo-grid-column",30),e.YNc(65,ce,2,4,"ng-template",26),e.qZA(),e.TgZ(66,"kendo-grid-column",31),e.YNc(67,he,1,1,"ng-template",26),e.qZA(),e.qZA()),2&t){const a=e.MAs(5);e.xp6(2),e.Q6J("nzSuffix",a),e.xp6(1),e.Q6J("ngModel",n.modelSearch.keyword)("ngModelOptions",e.DdM(62,pe)),e.xp6(9),e.Q6J("nzNodes",n.listDanhMuc)("nzMaxTagCount",5)("nzDefaultExpandAll",!0)("nzAllowClear",!0)("nzMultiple",!0)("ngModel",n.arrIdsDanhMuc),e.xp6(4),e.Q6J("ngModel",n.tuNgay)("nzSize",n.size),e.xp6(4),e.Q6J("ngModel",n.denNgay)("nzSize",n.size),e.xp6(4),e.Q6J("nzSize",n.size)("ngModel",n.isVisible),e.xp6(1),e.s9C("nzValue",!0),e.xp6(2),e.s9C("nzValue",!1),e.xp6(5),e.Q6J("nzSize",n.size)("ngModel",n.isNoiBat),e.xp6(1),e.s9C("nzValue",!0),e.xp6(2),e.s9C("nzValue",!1),e.xp6(5),e.Q6J("nzSize",n.size)("ngModel",n.isNew),e.xp6(1),e.s9C("nzValue",!0),e.xp6(2),e.s9C("nzValue",!1),e.xp6(8),e.Q6J("disabled",n.selectedIds.length<=0),e.xp6(3),e.Q6J("data",e.lcZ(55,60,n.gridView$))("pageSize",n.gridState.take)("sort",n.gridState.sort)("skip",n.gridState.skip)("pageable",!0)("navigable",!0)("sortable",!0)("selectable",!0)("selectedKeys",n.selectedIds)("reorderable",!0)("resizable",!0)("height",500),e.xp6(3),e.Q6J("width",40)("showSelectAll",!0),e.xp6(1),e.Tol(e.DdM(63,z)),e.Q6J("headerStyle",e.DdM(64,b))("headerClass",e.DdM(65,z))("width",90),e.xp6(2),e.Tol(e.DdM(66,z)),e.Q6J("headerStyle",e.DdM(67,b))("width",50)("headerClass",e.DdM(68,z)),e.xp6(2),e.Q6J("headerStyle",e.DdM(69,b)),e.xp6(1),e.Q6J("headerStyle",e.DdM(70,b))("width",200),e.xp6(1),e.Q6J("headerStyle",e.DdM(71,b))("width",100),e.xp6(2),e.Tol(e.DdM(72,z)),e.Q6J("headerStyle",e.DdM(73,b))("headerClass",e.DdM(74,z))("width",110)}},directives:[l._Y,l.JL,l.F,H.w,_.gB,_.ke,_.Zp,l.Fj,l.JJ,l.On,C.RR,D.zr,y.uw,f.Vq,f.Ip,N.dQ,O.ix,p.MwP,p.pVy,p.sXO,p.HbC,p.bg4,p.Ztq,q.Ls,C.Ws,C.cm,g.O5],pipes:[g.Ov,g.uU],styles:[".heading[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center!important}.k-grid[_ngcontent-%COMP%]{font-size:12px;background-color:#fff;display:unset;flex-direction:column;position:relative}kendo-grid-column[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:500!important;white-space:normal}#icon-group[_ngcontent-%COMP%]{font-size:14px;color:#005aa9}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:600px;height:36px;line-height:36px;padding-left:15px;outline:0}.search[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px;font-size:20px;padding:5px}nz-select[_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%]{width:100%;box-sizing:border-box}.menu-filter[_ngcontent-%COMP%]{width:558px;padding:15px;background-color:#fff;max-height:90vh;overflow:hidden auto;border:1px solid #c9ced7;box-shadow:0 1px 15px 1px #45414e14}.menu-filter[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#005aa9;font-weight:bold}.menu-filter[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:10px;color:#005aa9;height:36px;width:100px;float:right}.menu-filter[_ngcontent-%COMP%]   nz-select[_ngcontent-%COMP%]{padding:10px 0}.ant-picker[_ngcontent-%COMP%]{margin-bottom:10px;margin-top:5px}.ant-select[_ngcontent-%COMP%]{margin-bottom:10px;margin-top:5px}#icon-search[_ngcontent-%COMP%]{margin-top:2px;padding:3px;font-weight:bold;font-size:15px}.search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#005aa9;border-color:#005aa9;color:#fff;font-weight:500;z-index:100;margin-right:5px;padding:.9rem 1.5rem;cursor:pointer;display:inline-flex;align-items:center;position:relative;height:34px;border-radius:3px}.line[_ngcontent-%COMP%]{width:1px;height:32px;margin:0 10px;background:#dceadc}.group-button[_ngcontent-%COMP%]{display:inline-flex}#btn-add[_ngcontent-%COMP%]{padding:.9rem 1.5rem;cursor:pointer;display:inline-flex;align-items:center;position:relative;height:36px;border-radius:3px;background-color:#005aa9;border-color:#005aa9}#btn-delete[_ngcontent-%COMP%]{background-color:#de282f;border-color:#ec1c24;color:#fff;margin-left:10px;padding:.9rem 1.5rem;cursor:pointer;display:inline-flex;align-items:center;height:36px;border-radius:3px}nz-dropdown-menu[_ngcontent-%COMP%]{height:150px;width:200px;background-color:#b6b6b6}#btn-hienthi[_ngcontent-%COMP%]{background-color:#0cb664;display:inline-block;padding:4px 15px;border-radius:4px;color:#fff;font-weight:400;font-size:12px}.menu-hanhdong[_ngcontent-%COMP%]{height:140px;width:230px;background:#ffffff;box-shadow:#64646f33 0 7px 29px}.menu-hanhdong[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-weight:500!important;padding-left:10px;padding-top:10px}.menu-hanhdong[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px}.menu-hanhdong[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{cursor:pointer;font-size:14px;padding:5px}.menu-hanhdong[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#005aa9;margin-right:5px;margin-left:5px}.menu-hanhdong[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{color:#005aa9}.ant-input-affix-wrapper[_ngcontent-%COMP%]{padding:0;width:70%}"]}),i})(),Te=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["nx-action-tintuc-noidung"]],decls:1,vars:0,template:function(t,n){1&t&&e._UZ(0,"nx-form-tintuc")},directives:[ee],styles:[""]}),i})();function fe(i,r){if(1&i){const t=e.EpF();e._UZ(0,"span",27),e.TgZ(1,"button",28),e.NdJ("click",function(){return e.CHM(t),e.oxw().submitSearch()}),e._UZ(2,"i",29),e._uU(3,"T\xecm ki\u1ebfm "),e.qZA(),e.TgZ(4,"a",30),e._UZ(5,"i",31),e.qZA()}if(2&i){e.oxw();const t=e.MAs(7);e.xp6(4),e.Q6J("nzDropdownMenu",t)}}function Ce(i,r){if(1&i&&e._UZ(0,"nz-option",32),2&i){const t=r.$implicit;e.Q6J("nzLabel",t.tenDanhMuc)("nzValue",t.id)}}function _e(i,r){1&i&&e._uU(0),2&i&&e.hij(" + ",r.$implicit.length," ")}function Ze(i,r){1&i&&e._uU(0," Kh\xf4ng c\xf3 d\u1eef li\u1ec7u ")}function ze(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"a",33),e._UZ(1,"i",34),e.qZA(),e.TgZ(2,"nz-dropdown-menu",null,5),e.TgZ(4,"div",35),e.TgZ(5,"ul",36),e.TgZ(6,"div",37),e.TgZ(7,"p",38),e._uU(8,"Thao t\xe1c"),e.qZA(),e.qZA(),e.TgZ(9,"div",39),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.oxw().editHandler(o)}),e._UZ(10,"i",40),e._uU(11," Ch\u1ec9nh s\u1eeda "),e.qZA(),e.TgZ(12,"div",39),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.oxw().removeItem(o)}),e._UZ(13,"i",41),e._uU(14," X\xf3a "),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.MAs(3);e.Q6J("nzDropdownMenu",t)}}function be(i,r){1&i&&e._uU(0),2&i&&e.hij(" ",r.rowIndex+1," ")}function Me(i,r){1&i&&(e.TgZ(0,"button",43),e._uU(1," S\u1eed d\u1ee5ng "),e.qZA())}function Ae(i,r){1&i&&e.YNc(0,Me,2,0,"button",42),2&i&&e.Q6J("ngIf",!0===r.$implicit.isSuDung)}const xe=function(){return{standalone:!0}},M=function(){return{"text-center":!0}},x=function(){return{"font-weight":"bold"}};let ve=(()=>{class i{constructor(t,n,a,o){this.apiService=t,this.modal=n,this.notifi=a,this.router=o,this.listDanhMucs=[],this.arrIdsParent=[],this.size="large",this.modelSearch={keyword:"",isVisible:!1},this.selectedIds=[],this.gridState={skip:0,take:10,sort:[{field:"id",dir:"asc"}]},this.destroyed$=new S.xQ}ngOnInit(){this.loadItems()}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}loadItems(){const t="CMS/CMSTinTucDanhMucs/GetList";this.apiService.post(t,this.dataRequestGetList()).pipe((0,m.U)(n=>({data:n.items})),(0,c.R)(this.destroyed$)).subscribe(n=>{this.listDanhMucs=n.data}),this.gridView$=this.apiService.post(t,this.queryOptions).pipe((0,m.U)(n=>({data:n.items,total:n.pagingInfo.totalItems})))}dataStateChange(t){this.gridState=t,this.loadItems()}onSearch(){this.gridState.skip=0,this.loadItems()}submitSearch(){this.gridState.skip=0,this.loadItems()}resetSearch(){this.idNews=0,this.isVisible=null,this.arrIdsParent=[]}addHandler(){this.router.navigate(["/master/news/danh-muc-tin-tuc/action"],{queryParams:{data:JSON.stringify({state:{action:u.Xv.CREATE}})}})}editHandler(t){this.router.navigate(["/master/news/danh-muc-tin-tuc/action"],{queryParams:{data:JSON.stringify({state:{action:u.Xv.UPDATE,data:t}})}})}removeItem(t){this.selectedIds=[t.id],this.removeSelected()}removeSelected(){this.selectedIds.length>0&&this.modal.confirm({nzClosable:!1,nzTitle:u.sj.TITLE,nzOnOk:()=>{this.apiService.delete("CMS/CMSTinTucDanhMucs",{ids:this.selectedIds}).pipe((0,c.R)(this.destroyed$)).subscribe(n=>{this.notifi.showSuccessMessage(u.sj.Delete),this.loadItems(),this.selectedIds=[]})},nzOkText:u.sj.Yes,nzCancelText:u.sj.No})}dataRequestGetList(){return Object.assign(Object.assign({cultureId:1,id:null,level:1,isAsc:!1,isFeedback:null,isHienThi:null},this.modelSearch),{pageNumber:1,pageSize:20,sortCol:"id",sortASC:!0,sortName:"nameParent"})}get queryOptions(){return Object.assign(Object.assign({},this.modelSearch),{arrIdsParent:this.arrIdsParent,cultureId:1,id:this.idNews,pageSize:20,pageNumber:1,sortCol:this.gridState.sort?this.gridState.sort[0].field:"id",isAsc:!this.gridState.sort||"desc"===this.gridState.sort[0].dir,isFeedback:null,isHienThi:null!=this.isVisible?JSON.parse(this.isVisible):null,sortASC:!this.gridState.sort||"desc"===this.gridState.sort[0].dir,sortName:"nameParent"})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(T.sM),e.Y36(w.Sf),e.Y36(T.gq),e.Y36(h.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["nx-danhmuc-tintuc"]],decls:43,vars:55,consts:[[1,"heading"],[1,"search"],[3,"nzSuffix"],["type","text","nz-input","","placeholder","Nh\u1eadp t\u1eeb kh\xf3a",3,"ngModel","ngModelOptions","ngModelChange","keyup.enter"],["suffixIconSearch",""],["menu","nzDropdownMenu"],[1,"menu-filter"],["nzMode","multiple","nzPlaceHolder","Ch\u1ecdn danh m\u1ee5c",3,"nzSize","nzMaxTagCount","nzMaxTagPlaceholder","ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["tagPlaceHolder",""],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Hi\u1ec3n th\u1ecb","nzNotFoundContent","Tr\u1ed1ng",3,"nzSize","ngModel","ngModelChange"],["nzCustomContent","","nzLabel","Hi\u1ec3n th\u1ecb",3,"nzValue"],["nzCustomContent","","nzLabel","Kh\xf4ng hi\u1ec3n th\u1ecb",3,"nzValue"],["nz-button","","nzType","primary","nzGhost","",3,"click"],[1,"action"],["nz-button","","nzType","primary","id","btn-add","routerLink","/master/news/danh-muc-tin-tuc/action",1,"ui-button","ui-button-secondary",3,"click"],[1,"ui-text"],["nz-button","","nzType","primary","id","btn-delete","nzDanger","",1,"ui-button","ui-button-delete",3,"disabled","click"],["kendoGridSelectBy","id",3,"data","sort","navigable","sortable","selectable","selectedKeys","reorderable","resizable","height","dataStateChange"],["kendoGridNoRecordsTemplate",""],[3,"width","showSelectAll"],["title","Thao t\xe1c",3,"headerClass","width","headerStyle"],["kendoGridCellTemplate",""],["title","STT",3,"headerStyle","width","headerClass"],["title","T\xean danh m\u1ee5c","field","tenDanhMuc",3,"headerStyle"],["title","Danh m\u1ee5c cha","field","nameParent",3,"headerStyle"],["title","Hi\u1ec3n th\u1ecb","field","isSuDung",3,"headerStyle","headerClass","width"],[1,"line"],["type","button",3,"click"],["nz-icon","","id","icon-search","nzType","search","nzTheme","outline"],["nz-dropdown","","nzTrigger","click","nzPlacement","bottomRight",3,"nzDropdownMenu"],["nz-icon","","id","icon-filter","nzType","filter","nzTheme","fill"],[3,"nzLabel","nzValue"],["nz-dropdown","",3,"nzDropdownMenu"],["id","btn-group","nz-icon","","nzType","group","nzTheme","outline",2,"color","#005aa9","font-size","14px"],[1,"menu-hanhdong","ant-drop","menu-dropdown"],[1,"m-nav"],[1,"menu-thaotac",2,"margin-top","0"],[1,"thaotac"],[3,"click"],["nz-icon","","nzType","edit","nzTheme","outline"],["nz-icon","","nzType","delete","nzTheme","outline"],["id","btn-hienthi","nz-button","","nzType","text",4,"ngIf"],["id","btn-hienthi","nz-button","","nzType","text"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"form",1),e.TgZ(2,"nz-input-group",2),e.TgZ(3,"input",3),e.NdJ("ngModelChange",function(o){return n.modelSearch.keyword=o})("keyup.enter",function(){return n.onSearch()}),e.qZA(),e.qZA(),e.YNc(4,fe,6,1,"ng-template",null,4,e.W1O),e.qZA(),e.TgZ(6,"nz-dropdown-menu",null,5),e.TgZ(8,"div",6),e.TgZ(9,"span"),e._uU(10,"Ch\u1ecdn danh m\u1ee5c"),e.qZA(),e.TgZ(11,"nz-select",7),e.NdJ("ngModelChange",function(o){return n.arrIdsParent=o}),e.YNc(12,Ce,1,2,"nz-option",8),e.qZA(),e.YNc(13,_e,1,1,"ng-template",null,9,e.W1O),e.TgZ(15,"span"),e._uU(16,"Hi\u1ec3n th\u1ecb"),e.qZA(),e.TgZ(17,"nz-select",10),e.NdJ("ngModelChange",function(o){return n.isVisible=o}),e.TgZ(18,"nz-option",11),e._uU(19," Hi\u1ec3n th\u1ecb "),e.qZA(),e.TgZ(20,"nz-option",12),e._uU(21," Kh\xf4ng hi\u1ec3n th\u1ecb "),e.qZA(),e.qZA(),e.TgZ(22,"button",13),e.NdJ("click",function(){return n.resetSearch()}),e._uU(23," L\xe0m m\u1edbi "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"div",14),e.TgZ(25,"button",15),e.NdJ("click",function(){return n.addHandler()}),e.TgZ(26,"span",16),e._uU(27,"T\u1ea1o m\u1edbi"),e.qZA(),e.qZA(),e.TgZ(28,"button",17),e.NdJ("click",function(){return n.removeSelected()}),e.TgZ(29,"span",16),e._uU(30,"Xo\xe1"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(31,"kendo-grid",18),e.NdJ("dataStateChange",function(o){return n.dataStateChange(o)}),e.ALo(32,"async"),e.YNc(33,Ze,1,0,"ng-template",19),e._UZ(34,"kendo-grid-checkbox-column",20),e.TgZ(35,"kendo-grid-column",21),e.YNc(36,ze,15,1,"ng-template",22),e.qZA(),e.TgZ(37,"kendo-grid-column",23),e.YNc(38,be,1,1,"ng-template",22),e.qZA(),e._UZ(39,"kendo-grid-column",24),e._UZ(40,"kendo-grid-column",25),e.TgZ(41,"kendo-grid-column",26),e.YNc(42,Ae,1,1,"ng-template",22),e.qZA(),e.qZA()),2&t){const a=e.MAs(5),o=e.MAs(14);e.xp6(2),e.Q6J("nzSuffix",a),e.xp6(1),e.Q6J("ngModel",n.modelSearch.keyword)("ngModelOptions",e.DdM(43,xe)),e.xp6(8),e.Q6J("nzSize",n.size)("nzMaxTagCount",5)("nzMaxTagPlaceholder",o)("ngModel",n.arrIdsParent),e.xp6(1),e.Q6J("ngForOf",n.listDanhMucs),e.xp6(5),e.Q6J("nzSize",n.size)("ngModel",n.isVisible),e.xp6(1),e.s9C("nzValue",!0),e.xp6(2),e.s9C("nzValue",!1),e.xp6(8),e.Q6J("disabled",n.selectedIds.length<=0),e.xp6(3),e.Q6J("data",e.lcZ(32,41,n.gridView$))("sort",n.gridState.sort)("navigable",!0)("sortable",!0)("selectable",!0)("selectedKeys",n.selectedIds)("reorderable",!0)("resizable",!0)("height",500),e.xp6(3),e.Q6J("width",40)("showSelectAll",!0),e.xp6(1),e.Tol(e.DdM(44,M)),e.Q6J("headerClass",e.DdM(45,M))("width",80)("headerStyle",e.DdM(46,x)),e.xp6(2),e.Tol(e.DdM(47,M)),e.Q6J("headerStyle",e.DdM(48,x))("width",50)("headerClass",e.DdM(49,M)),e.xp6(2),e.Q6J("headerStyle",e.DdM(50,x)),e.xp6(1),e.Q6J("headerStyle",e.DdM(51,x)),e.xp6(1),e.Tol(e.DdM(52,M)),e.Q6J("headerStyle",e.DdM(53,x))("headerClass",e.DdM(54,M))("width",105)}},directives:[l._Y,l.JL,l.F,H.w,_.gB,_.ke,_.Zp,l.Fj,l.JJ,l.On,C.RR,f.Vq,g.sg,f.Ip,N.dQ,O.ix,h.rH,p.MwP,p.pVy,p.sXO,p.HbC,p.bg4,p.Ztq,q.Ls,C.Ws,C.cm,g.O5],pipes:[g.Ov],styles:[".heading[_ngcontent-%COMP%]{justify-content:space-between;align-items:center!important;display:flex}.k-grid[_ngcontent-%COMP%]{font-size:12px;background-color:#fff;display:unset;flex-direction:column;position:relative}.k-grid[_ngcontent-%COMP%]   .k-grid-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;font-weight:bold}#icon-group[_ngcontent-%COMP%]{font-size:14px;color:#005aa9}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:600px;height:36px;padding-left:15px;outline:0}.search[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}nz-select[_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%]{width:100%;box-sizing:border-box}.menu-filter[_ngcontent-%COMP%]{width:531px;padding:15px;background-color:#fff;max-height:90vh;overflow:hidden auto;border:1px solid #c9ced7;box-shadow:0 1px 15px 1px #45414e14}.menu-filter[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#005aa9;font-weight:bold}.menu-filter[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#005aa9;height:36px;width:100px;float:right}.menu-filter[_ngcontent-%COMP%]   nz-select[_ngcontent-%COMP%]{padding:10px 0}.search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#005aa9;border-color:#005aa9;color:#fff;font-weight:500;z-index:100;margin-right:5px;padding:.9rem 1.5rem;cursor:pointer;display:inline-flex;align-items:center;position:relative;height:34px;border-radius:3px}.group-button[_ngcontent-%COMP%]{display:inline-flex}#btn-add[_ngcontent-%COMP%]{padding:.9rem 1.5rem;cursor:pointer;display:inline-flex;align-items:center;position:relative;height:36px;border-radius:3px;background-color:#005aa9;border-color:#005aa9}#btn-delete[_ngcontent-%COMP%]{background-color:#de282f;border-color:#ec1c24;color:#fff;margin-left:10px;padding:.9rem 1.5rem;cursor:pointer;display:inline-flex;align-items:center;height:36px;border-radius:3px}nz-dropdown-menu[_ngcontent-%COMP%]{height:150px;width:200px;background-color:#b6b6b6}#btn-hienthi[_ngcontent-%COMP%]{background-color:#0cb664;display:inline-block;padding:4px 15px;border-radius:4px;color:#fff;font-weight:400;font-size:12px}.menu-hanhdong[_ngcontent-%COMP%]{height:140px;width:230px;background:#ffffff;box-shadow:#64646f33 0 7px 29px}.menu-hanhdong[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-weight:500!important;padding-left:10px;padding-top:10px}.menu-hanhdong[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px}.menu-hanhdong[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{cursor:pointer;font-size:14px;padding:5px}.menu-hanhdong[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#005aa9;margin-right:5px;margin-left:5px}.menu-hanhdong[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{color:#005aa9}.ant-input-affix-wrapper[_ngcontent-%COMP%]{padding:0;width:70%}#icon-filter[_ngcontent-%COMP%]{font-size:20px}.w-full[_ngcontent-%COMP%]{width:100%}.ant-picker[_ngcontent-%COMP%]{min-height:40px;padding:5px 10px;box-shadow:inset 0 1px #3f3f440d!important;border:1px solid #c4cdd5;border-radius:3px;color:#000}.lab[_ngcontent-%COMP%]{padding:19px}.form-menu[_ngcontent-%COMP%]{margin-bottom:-.5rem}.m-search-body[_ngcontent-%COMP%]   .search-body--wapper[_ngcontent-%COMP%]{position:relative}.m-search-body[_ngcontent-%COMP%]   .search-body--wapper[_ngcontent-%COMP%]   .m-input-icon__icon[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{width:1px;height:32px;background:#d4ecdf;margin-right:10px}nz-dropdown-menu[_ngcontent-%COMP%]{display:none;position:absolute;left:0;padding:15px;background-color:#fff;width:100%;max-height:80vh;overflow:hidden auto;border:1px solid #c9ced7;box-shadow:0 1px 15px 1px #45414e14;z-index:999}"]}),i})(),ye=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["nx-action-danhmuc-tintuc"]],decls:1,vars:0,template:function(t,n){1&t&&e._UZ(0,"nx-form-action-tin-tuc")},directives:[X],styles:[""]}),i})();(0,g.qS)(U());const De=[{path:"",component:re,children:[{path:"danh-muc-tin-tuc",component:ve},{path:"danh-muc-tin-tuc/action",component:ye},{path:"tin-tuc",component:me},{path:"tin-tuc/action",component:Te}]}];let Se=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[{provide:e.soG,useValue:"vi-VN"}],imports:[[g.ez,$,h.Bz.forChild(De),h.Bz,A.d,oe.wm,q.PV,B.m8,ne.hJ,B.y$,ie.JF,te.Jb,l.u5,l.UX,A.d,p.zE6,l.UX,N.vG,O.sL,ae.Gl,_.o7,q.PV,C.b1,_.o7,f.LV,l.u5,w.Qp,y.Hb,D.cq,J.tP,F.dZ]]}),i})()}}]);