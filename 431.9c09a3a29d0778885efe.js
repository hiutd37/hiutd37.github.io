"use strict";(self.webpackChunknx=self.webpackChunknx||[]).push([[431],{3431:(A,l,r)=>{r.r(l),r.d(l,{AuthModule:()=>Z});var u=r(2057),a=r(7501),n=r(4788);let m=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["nx-auth"]],decls:1,vars:0,template:function(o,e){1&o&&n._UZ(0,"router-outlet")},directives:[a.lC],styles:[""]}),t})();var i=r(3738),c=r(6750),d=r(8303),p=r(9765),f=r(6782),h=r(1483);function C(t,s){1&t&&(n.TgZ(0,"small",13),n._uU(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),n.qZA())}function x(t,s){1&t&&(n.TgZ(0,"small",13),n._uU(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),n.qZA())}const b=[{path:"",component:m,children:[{path:"login",component:(()=>{class t{constructor(o,e,g,v,M){this.formBuilder=o,this.router=e,this.route=g,this.auth=v,this.notifcation=M,this.submited=!1,this.destroyed$=new p.xQ,this.formLogin=this.formBuilder.group({userName:["",i.kI.required],password:["",i.kI.required],sessionCode:[""]})}ngOnInit(){this.auth.clearAll(),this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/login",this.router.navigate([this.returnUrl])}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}signin(){var o;this.submited=!0;const e=this.auth.getCurrentSessionCode();this.formLogin.invalid?(0,d.n)(this.formLogin):(null===(o=this.formLogin.get("sessionCode"))||void 0===o||o.setValue(e),this.auth.doLogin(this.formLogin.value).pipe((0,f.R)(this.destroyed$)).subscribe(g=>{g&&(this.notifcation.showSuccessMessage("Login success !"),this.router.navigate(["/master/dashboard"]))}))}get f(){return this.formLogin.controls}}return t.\u0275fac=function(o){return new(o||t)(n.Y36(i.qu),n.Y36(a.F0),n.Y36(a.gz),n.Y36(c.e),n.Y36(h.gq))},t.\u0275cmp=n.Xpm({type:t,selectors:[["nx-login"]],decls:21,vars:3,consts:[[1,"login-bg"],[1,"container"],[1,"login-form"],[1,"main-div"],[1,"panel"],[3,"formGroup","ngSubmit"],[1,"form-group"],["type","text","formControlName","userName","placeholder","Username",1,"form-control"],["class","text-danger",4,"ngIf"],["type","password","formControlName","password","placeholder","Password",1,"form-control"],[1,"forgot"],["href","reset.html"],["type","submit",1,"btn","btn-primary"],[1,"text-danger"]],template:function(o,e){1&o&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"div",3),n.TgZ(4,"div",4),n.TgZ(5,"h2"),n._uU(6,"Admin Login"),n.qZA(),n.TgZ(7,"p"),n._uU(8,"Please enter your username and password"),n.qZA(),n.qZA(),n.TgZ(9,"form",5),n.NdJ("ngSubmit",function(){return e.signin()}),n.TgZ(10,"div",6),n._UZ(11,"input",7),n.YNc(12,C,2,0,"small",8),n.qZA(),n.TgZ(13,"div",6),n._UZ(14,"input",9),n.YNc(15,x,2,0,"small",8),n.qZA(),n.TgZ(16,"div",10),n.TgZ(17,"a",11),n._uU(18,"Forgot password?"),n.qZA(),n.qZA(),n.TgZ(19,"button",12),n._uU(20,"Login"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&o&&(n.xp6(9),n.Q6J("formGroup",e.formLogin),n.xp6(3),n.Q6J("ngIf",(e.f.userName.touched||e.submited)&&(null==e.f.userName.errors?null:e.f.userName.errors.required)),n.xp6(3),n.Q6J("ngIf",(e.f.password.touched||e.submited)&&(null==e.f.password.errors?null:e.f.password.errors.required)))},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,u.O5],styles:[".login-bg[_ngcontent-%COMP%]{background-image:url(https://hdwallsource.com/img/2014/9/blur-26347-27038-hd-wallpapers.jpg);background-repeat:no-repeat;background-position:center;background-size:cover;padding:10px;height:100vh}.form-heading[_ngcontent-%COMP%]{color:#fff;font-size:23px}.panel[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#444;font-size:18px;margin:0 0 8px}.panel[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#777;font-size:14px;margin-bottom:30px;line-height:24px}.login-form[_ngcontent-%COMP%]{margin-top:100px;text-align:center}.login-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background:#f7f7f7 none repeat scroll 0 0;border:1px solid #d4d4d4;border-radius:4px;font-size:14px;height:50px;line-height:50px;text-align:left}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:10px}.login-form[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background:#f0ad4e none repeat scroll 0 0;border-color:#f0ad4e;color:#fff;font-size:14px;width:100%;height:50px;line-height:50px;padding:0}.login-form[_ngcontent-%COMP%]   .btn.btn-primary.reset[_ngcontent-%COMP%]{background:#ff9900 none repeat scroll 0 0}.main-div[_ngcontent-%COMP%]{background:#ffffff none repeat scroll 0 0;border-radius:2px;margin:10px auto 30px;max-width:38%;padding:50px 70px 70px 71px}.forgot[_ngcontent-%COMP%]{text-align:left;margin-bottom:30px}.forgot[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#777;font-size:14px;text-decoration:underline}.botto-text[_ngcontent-%COMP%]{color:#fff;font-size:14px;margin:auto}.back[_ngcontent-%COMP%]{text-align:left;margin-top:10px}.back[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#444;font-size:13px;text-decoration:none}"],changeDetection:0}),t})()}]}];let Z=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[u.ez,i.u5,i.UX,a.Bz.forChild(b)]]}),t})()}}]);